<h2>Edit User</h2>

<!-- Error Messages -->
{{#if errorMessage}}
<div class="alert alert-danger">{{errorMessage}}</div>
{{/if}}

<!-- Success Messages -->
{{#if successMessage}}
<div class="alert alert-success">{{successMessage}}</div>
{{/if}}

<form action="/users/{{user.id}}/update" method="POST">
    <div class="form-group">
        <label for="first_name">First Name</label>
        <input type="text" id="first_name" name="first_name" class="form-control" value="{{user.first_name}}" required>
    </div>

    <div class="form-group">
        <label for="last_name">Last Name</label>
        <input type="text" id="last_name" name="last_name" class="form-control" value="{{user.last_name}}" required>
    </div>

    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" class="form-control" value="{{user.email}}" required>
    </div>

    <div class="form-group">
        <label for="role">Role</label>
        <select id="role" name="role" class="form-control" required>
            <option value="admin" {{#if (ifEquals user.role 'admin')}}selected{{/if}}>Admin</option>
            <option value="teacher" {{#if (ifEquals user.role 'teacher')}}selected{{/if}}>Teacher</option>
            <option value="student" {{#if (ifEquals user.role 'student')}}selected{{/if}}>Student</option>
        </select>
    </div>
    
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" class="form-control" placeholder="Enter new password (leave blank to keep unchanged)">
    </div>
    <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="Confirm new password">
    </div>
    
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="/users" class="btn btn-secondary">Back to Users</a>
</form>
